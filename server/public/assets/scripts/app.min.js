/*! calculator_weekend_challenge_3 2016-03-13 */
function initialize(){console.log("in initialize"),setListeners()}function setListeners(){console.log("in set listeners"),$(".calc-container").on("click","button",calcClick)}function calcClick(){console.log($(this).data("key"));var a=$(this).data("key");switch(a){case 0:addToBuffer(a);break;case 1:addToBuffer(a);break;case 2:addToBuffer(a);break;case 3:addToBuffer(a);break;case 4:addToBuffer(a);break;case 5:addToBuffer(a);break;case 6:addToBuffer(a);break;case 7:addToBuffer(a);break;case 8:addToBuffer(a);break;case 9:addToBuffer(a);break;case"+":setOperator(a);break;case"-":setOperator(a);break;case"/":setOperator(a);break;case"x":setOperator(a);break;case"=":checkExpression();break;case"AC":clearAll();break;case".":addDecimal()}}function clearAll(){buffer="",operator="",valA="",valB="",displayBuffer()}function checkExpression(){buffer.length>0&&(valB=buffer),valA.length>0&&valB.length>0&&operator.length>0?doMath():(console.log("we can't do math with this stuff."),clearAll())}function doMath(){switch(operator){case"+":mathUrl="/add";break;case"-":mathUrl="/subtract";break;case"x":mathUrl="/multiply";break;case"/":mathUrl="/divide"}var a={valueA:valA,valueB:valB};$.ajax({type:"POST",url:mathUrl,data:a,success:function(a){showResult(a)}})}function showResult(a){clearAll(),buffer=a.toString(),displayBuffer()}function setOperator(a){operator=a,buffer.length>0&&(valA=buffer,buffer=""),displayBuffer()}function addDecimal(){-1==buffer.indexOf(".")&&(buffer+=".",1==buffer.length&&(buffer="0"+buffer)),displayBuffer()}function addToBuffer(a){buffer+=a,displayBuffer()}function displayBuffer(){0==buffer.length?$(".display").text(0):$(".display").text(buffer)}var buffer="",operator="",valA="",valB="";$(document).ready(function(){console.log("in ready function"),$("#calculator").on("submit",function(a){a.preventDefault()}),initialize()});